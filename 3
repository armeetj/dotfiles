# i3 configuration aligned with AeroSpace config
exec --no-startup-id setxkbmap -option ctrl:swapcaps

# exiting i3
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# variables
set $mod                             Mod1
set $smod                            Shift
set $wm_setting_font                 pango:Iosevka Nerd Font, Regular 12
set $wm_setting_gap_width            10
set $wm_setting_gap_height           10
set $wm_setting_border_size          5
set $wm_setting_key_left             h
set $wm_setting_key_down             j
set $wm_setting_key_up               k
set $wm_setting_key_right            l
set $wm_setting_app_terminal         kitty
set $wm_setting_app_browser          firefox
set $wm_setting_app_launcher         rofi -show combi
# set $wm_setting_app_launcher         dmenu_run
set $wm_setting_app_compositor       picom

# keybinds :: quick launch
bindsym $mod+backslash
bindsym $mod+return exec $wm_setting_app_terminal
bindsym $mod+$smod+Return exec $wm_setting_app_browser
bindsym $mod+d exec $wm_setting_app_launcher
bindsym $mod+space exec $wm_setting_app_launcher

exec_always --no-startup-id $wm_setting_app_compositor
exec_always --no-startup-id killall polybar
exec_always --no-startup-id ~/.config/polybar/launch_polybar.sh

exec --no-startup-id picom --config ~/.config/picom/picom.conf -b

### Fonts ###
font $wm_setting_font

### Screenshots ###
bindsym Print exec flameshot gui
bindsym $mod+F11 exec flameshot full -c

# Region selection screenshot (Flameshot GUI)
bindsym $mod+Shift+F11 exec flameshot gui

# Active window screenshot
bindsym $mod+F12 exec flameshot window -c

# Delayed screenshot with 3-second delay
bindsym $mod+Shift+F12 exec flameshot full -d 3000 -c

### Gaps and Borders ###
# gaps inner $wm_setting_gap_width
# smart_gaps on
# default_border pixel $wm_setting_border_size

### Workspaces ###
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $wsA "A"
set $wsB "B"
set $wsC "C"
set $wsG "G"
set $wsI "I"
set $wsM "M"
set $wsN "N"
set $wsO "O"
set $wsP "P"
set $wsS "S"
set $wsT "T"
set $wsU "U"
set $wsV "V"
set $wsW "W"
set $wsX "X"
set $wsY "Y"
set $wsZ "Z"

bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+a workspace $wsA
bindsym $mod+b workspace $wsB
bindsym $mod+c workspace $wsC
bindsym $mod+g workspace $wsG
bindsym $mod+i workspace $wsI
bindsym $mod+m workspace $wsM
bindsym $mod+n workspace $wsN
bindsym $mod+o workspace $wsO
bindsym $mod+p workspace $wsP
bindsym $mod+s workspace $wsS
bindsym $mod+t workspace $wsT
bindsym $mod+u workspace $wsU
bindsym $mod+v workspace $wsV
bindsym $mod+w workspace $wsW
bindsym $mod+x workspace $wsX
bindsym $mod+y workspace $wsY
bindsym $mod+z workspace $wsZ

bindsym $mod+$smod+1 move container to workspace $ws1
bindsym $mod+$smod+2 move container to workspace $ws2
bindsym $mod+$smod+3 move container to workspace $ws3
bindsym $mod+$smod+4 move container to workspace $ws4
bindsym $mod+$smod+5 move container to workspace $ws5
bindsym $mod+$smod+6 move container to workspace $ws6
bindsym $mod+$smod+7 move container to workspace $ws7
bindsym $mod+$smod+8 move container to workspace $ws8
bindsym $mod+$smod+9 move container to workspace $ws9
bindsym $mod+$smod+a move container to workspace $wsA
bindsym $mod+$smod+b move container to workspace $wsB
bindsym $mod+$smod+c move container to workspace $wsC
bindsym $mod+$smod+g move container to workspace $wsG
bindsym $mod+$smod+i move container to workspace $wsI
bindsym $mod+$smod+m move container to workspace $wsM
bindsym $mod+$smod+n move container to workspace $wsN
bindsym $mod+$smod+o move container to workspace $wsO
bindsym $mod+$smod+p move container to workspace $wsP
bindsym $mod+$smod+s move container to workspace $wsS
bindsym $mod+$smod+t move container to workspace $wsT
bindsym $mod+$smod+u move container to workspace $wsU
bindsym $mod+$smod+v move container to workspace $wsV
bindsym $mod+$smod+w move container to workspace $wsW
bindsym $mod+$smod+x move container to workspace $wsX
bindsym $mod+$smod+y move container to workspace $wsY
bindsym $mod+$smod+z move container to workspace $wsZ

### Focus Control ###
bindsym $mod+$wm_setting_key_left focus left
bindsym $mod+$wm_setting_key_down focus down
bindsym $mod+$wm_setting_key_up focus up
bindsym $mod+$wm_setting_key_right focus right

bindsym $mod+$smod+$wm_setting_key_left move left
bindsym $mod+$smod+$wm_setting_key_down move down
bindsym $mod+$smod+$wm_setting_key_up move up
bindsym $mod+$smod+$wm_setting_key_right move right

### Resize Mode ###
mode "resize" {
    bindsym $wm_setting_key_left  resize shrink width 10 px or 10 ppt
    bindsym $wm_setting_key_down  resize grow height 10 px or 10 ppt
    bindsym $wm_setting_key_up    resize shrink height 10 px or 10 ppt
    bindsym $wm_setting_key_right resize grow width 10 px or 10 ppt
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

### AeroSpace-Like Shortcuts ###
bindsym $mod+f fullscreen toggle
bindsym $mod+$smod+f floating toggle
bindsym $mod+$smod+q kill
bindsym $mod+$smod+r restart

bindsym $mod+Tab workspace back_and_forth
bindsym $mod+$smod+Tab move workspace to output next

bindsym $mod+comma layout tabbed
bindsym $mod+period layout stacking
bindsym $mod+slash layout toggle split


floating_modifier $mod


# PulseAudio audio controls
bindsym XF86AudioRaiseVolume exec "amixer -q sset Master,0 1+ unmute"
bindsym XF86AudioLowerVolume exec "amixer -q sset Master,0 1- unmute"
bindsym XF86AudioMute exec "amixer -q sset Master,0 toggle"

# Mouse Settings
exec --no-startup-id xset r rate 200 50
# exec --no-startup-id xinput set-prop 12 "libinput Accel Speed" -0.2
# exec --no-startup-id xinput set-prop 12 "libinput Accel Profile Enabled" 0, 1

exec --no-startup-id xinput set-prop "Darmoshark RF Dongle" "libinput Accel Speed" 0.0
exec --no-startup-id xinput set-prop "Darmoshark RF Dongle" "libinput Accel Profile Enabled" 0, 1
